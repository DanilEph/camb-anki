{"ast":null,"code":"import { atom, selector } from \"recoil\";\nexport const ANKI_FIELDS = 'ankiFields';\nconst ankiFieldsState = atom({\n  key: `${ANKI_FIELDS}State`,\n  default: undefined\n});\nexport const ankiFieldsSelector = selector({\n  key: ANKI_FIELDS,\n  get: _ref => {\n    let {\n      get\n    } = _ref;\n    return get(ankiFieldsState);\n  },\n  set: (_ref2, newValue) => {\n    let {\n      set\n    } = _ref2;\n    console.log(json);\n\n    if (chrome.storage) {\n      const json = JSON.stringify(newValue);\n      chrome.storage.sync.set({\n        [ANKI_FIELDS]: json\n      });\n    }\n\n    return set(ankiFieldsState, newValue);\n  }\n});","map":{"version":3,"names":["atom","selector","ANKI_FIELDS","ankiFieldsState","key","default","undefined","ankiFieldsSelector","get","set","newValue","console","log","json","chrome","storage","JSON","stringify","sync"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/store/ankiFields.ts"],"sourcesContent":["import { AnkiField } from \"models/AnkiField\";\nimport { atom, selector } from \"recoil\";\n\nexport const ANKI_FIELDS = 'ankiFields';\n\nconst ankiFieldsState = atom<AnkiField[]>({\n  key: `${ANKI_FIELDS}State`,\n  default: undefined,\n})\n\nexport const ankiFieldsSelector = selector<AnkiField[]>({\n  key: ANKI_FIELDS,\n  get: ({get}) => get(ankiFieldsState),\n  set: ({set}, newValue) => {\n    console.log(json);\n    if (chrome.storage) {\n      const json = JSON.stringify(newValue);\n      \n      chrome.storage.sync.set({[ANKI_FIELDS]: json})\n    }\n    return set(ankiFieldsState, newValue);\n    \n  }\n})"],"mappings":"AACA,SAASA,IAAT,EAAeC,QAAf,QAA+B,QAA/B;AAEA,OAAO,MAAMC,WAAW,GAAG,YAApB;AAEP,MAAMC,eAAe,GAAGH,IAAI,CAAc;EACxCI,GAAG,EAAG,GAAEF,WAAY,OADoB;EAExCG,OAAO,EAAEC;AAF+B,CAAd,CAA5B;AAKA,OAAO,MAAMC,kBAAkB,GAAGN,QAAQ,CAAc;EACtDG,GAAG,EAAEF,WADiD;EAEtDM,GAAG,EAAE;IAAA,IAAC;MAACA;IAAD,CAAD;IAAA,OAAWA,GAAG,CAACL,eAAD,CAAd;EAAA,CAFiD;EAGtDM,GAAG,EAAE,QAAQC,QAAR,KAAqB;IAAA,IAApB;MAACD;IAAD,CAAoB;IACxBE,OAAO,CAACC,GAAR,CAAYC,IAAZ;;IACA,IAAIC,MAAM,CAACC,OAAX,EAAoB;MAClB,MAAMF,IAAI,GAAGG,IAAI,CAACC,SAAL,CAAeP,QAAf,CAAb;MAEAI,MAAM,CAACC,OAAP,CAAeG,IAAf,CAAoBT,GAApB,CAAwB;QAAC,CAACP,WAAD,GAAeW;MAAhB,CAAxB;IACD;;IACD,OAAOJ,GAAG,CAACN,eAAD,EAAkBO,QAAlB,CAAV;EAED;AAZqD,CAAd,CAAnC"},"metadata":{},"sourceType":"module"}