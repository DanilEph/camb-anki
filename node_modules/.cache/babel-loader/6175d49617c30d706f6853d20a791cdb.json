{"ast":null,"code":"import _defineProperty from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{atom,selector}from\"recoil\";export var ANKI_FIELDS='ankiFields';var ankiFieldsState=atom({key:\"\".concat(ANKI_FIELDS,\"State\"),default:[]});export var ankiFieldsSelector=selector({key:ANKI_FIELDS,get:function get(_ref){var _get=_ref.get;return _get(ankiFieldsState);},set:function set(_ref2,newValue){var _set=_ref2.set;if(chrome.storage){var json=JSON.stringify(newValue);chrome.storage.sync.set(_defineProperty({},ANKI_FIELDS,json),function(){return console.log(json);});}return _set(ankiFieldsState,newValue);}});","map":{"version":3,"names":["atom","selector","ANKI_FIELDS","ankiFieldsState","key","default","ankiFieldsSelector","get","set","newValue","chrome","storage","json","JSON","stringify","sync","console","log"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/store/ankiFields.ts"],"sourcesContent":["import { AnkiField } from \"models/AnkiField\";\nimport { atom, selector } from \"recoil\";\n\nexport const ANKI_FIELDS = 'ankiFields';\n\nconst ankiFieldsState = atom<AnkiField[]>({\n  key: `${ANKI_FIELDS}State`,\n  default: [],\n})\n\nexport const ankiFieldsSelector = selector<AnkiField[]>({\n  key: ANKI_FIELDS,\n  get: ({get}) => get(ankiFieldsState),\n  set: ({set}, newValue) => {\n    if (chrome.storage) {\n      const json = JSON.stringify(newValue);      \n      chrome.storage.sync.set({[ANKI_FIELDS]: json}, () => console.log(json))\n    }\n    return set(ankiFieldsState, newValue);\n    \n  }\n})"],"mappings":"8JACA,OAASA,IAAT,CAAeC,QAAf,KAA+B,QAA/B,CAEA,MAAO,IAAMC,YAAW,CAAG,YAApB,CAEP,GAAMC,gBAAe,CAAGH,IAAI,CAAc,CACxCI,GAAG,WAAKF,WAAL,SADqC,CAExCG,OAAO,CAAE,EAF+B,CAAd,CAA5B,CAKA,MAAO,IAAMC,mBAAkB,CAAGL,QAAQ,CAAc,CACtDG,GAAG,CAAEF,WADiD,CAEtDK,GAAG,CAAE,sBAAEA,KAAF,MAAEA,GAAF,OAAWA,KAAG,CAACJ,eAAD,CAAd,EAFiD,CAGtDK,GAAG,CAAE,mBAAQC,QAAR,CAAqB,IAAnBD,KAAmB,OAAnBA,GAAmB,CACxB,GAAIE,MAAM,CAACC,OAAX,CAAoB,CAClB,GAAMC,KAAI,CAAGC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAAb,CACAC,MAAM,CAACC,OAAP,CAAeI,IAAf,CAAoBP,GAApB,oBAA0BN,WAA1B,CAAwCU,IAAxC,EAA+C,iBAAMI,QAAO,CAACC,GAAR,CAAYL,IAAZ,CAAN,EAA/C,EACD,CACD,MAAOJ,KAAG,CAACL,eAAD,CAAkBM,QAAlB,CAAV,CAED,CAVqD,CAAd,CAAnC"},"metadata":{},"sourceType":"module"}