{"ast":null,"code":"export function setCaretPosition(elemId, nodeIndex, caretPos) {\n  var el = document.getElementById(elemId);\n  var range = document.createRange();\n  var sel = window.getSelection();\n  console.log(nodeIndex, caretPos);\n  console.log(el.childNodes[nodeIndex]);\n\n  if (el.childNodes[nodeIndex].firstChild) {\n    if (el.childNodes[nodeIndex].firstChild.nodeName === 'IMG') {\n      range.setStart(el.childNodes[nodeIndex], 1);\n    } else {\n      range.setStart(el.childNodes[nodeIndex].firstChild, caretPos);\n    }\n  }\n\n  range.collapse(true);\n  sel.removeAllRanges();\n  sel.addRange(range);\n}","map":{"version":3,"names":["setCaretPosition","elemId","nodeIndex","caretPos","el","document","getElementById","range","createRange","sel","window","getSelection","console","log","childNodes","firstChild","nodeName","setStart","collapse","removeAllRanges","addRange"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/utils/helpers/setCaretPosition.js"],"sourcesContent":["export function setCaretPosition(elemId, nodeIndex, caretPos) {\n  var el = document.getElementById(elemId)\n  var range = document.createRange()\n  var sel = window.getSelection()\n  \n  console.log(nodeIndex, caretPos)\n  console.log(el.childNodes[nodeIndex]);\n  if (el.childNodes[nodeIndex].firstChild) {\n    if (el.childNodes[nodeIndex].firstChild.nodeName === 'IMG') {\n      range.setStart(el.childNodes[nodeIndex], 1)\n    } else {\n      range.setStart(el.childNodes[nodeIndex].firstChild, caretPos)\n    }\n  }\n  \n  range.collapse(true)\n  \n  sel.removeAllRanges()\n  sel.addRange(range)\n}"],"mappings":"AAAA,OAAO,SAASA,gBAAT,CAA0BC,MAA1B,EAAkCC,SAAlC,EAA6CC,QAA7C,EAAuD;EAC5D,IAAIC,EAAE,GAAGC,QAAQ,CAACC,cAAT,CAAwBL,MAAxB,CAAT;EACA,IAAIM,KAAK,GAAGF,QAAQ,CAACG,WAAT,EAAZ;EACA,IAAIC,GAAG,GAAGC,MAAM,CAACC,YAAP,EAAV;EAEAC,OAAO,CAACC,GAAR,CAAYX,SAAZ,EAAuBC,QAAvB;EACAS,OAAO,CAACC,GAAR,CAAYT,EAAE,CAACU,UAAH,CAAcZ,SAAd,CAAZ;;EACA,IAAIE,EAAE,CAACU,UAAH,CAAcZ,SAAd,EAAyBa,UAA7B,EAAyC;IACvC,IAAIX,EAAE,CAACU,UAAH,CAAcZ,SAAd,EAAyBa,UAAzB,CAAoCC,QAApC,KAAiD,KAArD,EAA4D;MAC1DT,KAAK,CAACU,QAAN,CAAeb,EAAE,CAACU,UAAH,CAAcZ,SAAd,CAAf,EAAyC,CAAzC;IACD,CAFD,MAEO;MACLK,KAAK,CAACU,QAAN,CAAeb,EAAE,CAACU,UAAH,CAAcZ,SAAd,EAAyBa,UAAxC,EAAoDZ,QAApD;IACD;EACF;;EAEDI,KAAK,CAACW,QAAN,CAAe,IAAf;EAEAT,GAAG,CAACU,eAAJ;EACAV,GAAG,CAACW,QAAJ,CAAab,KAAb;AACD"},"metadata":{},"sourceType":"module"}