{"ast":null,"code":"import { atom, selector } from \"recoil\";\nexport const ANKI_FIELDS = 'ankiFields';\nconst ankiFieldsState = atom({\n  key: `${ANKI_FIELDS}State`,\n  default: []\n});\nexport const ankiFieldsSelector = selector({\n  key: ANKI_FIELDS,\n  get: _ref => {\n    let {\n      get\n    } = _ref;\n    return get(ankiFieldsState);\n  },\n  set: (_ref2, newValue) => {\n    let {\n      set\n    } = _ref2;\n\n    if (chrome.storage) {\n      const json = JSON.stringify(newValue);\n      chrome.storage.sync.set({\n        [ANKI_FIELDS]: json\n      }, () => console.log(json));\n    }\n\n    return set(ankiFieldsState, newValue);\n  }\n});","map":{"version":3,"names":["atom","selector","ANKI_FIELDS","ankiFieldsState","key","default","ankiFieldsSelector","get","set","newValue","chrome","storage","json","JSON","stringify","sync","console","log"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/store/ankiFields.ts"],"sourcesContent":["import { AnkiField } from \"models/AnkiField\";\nimport { atom, selector } from \"recoil\";\n\nexport const ANKI_FIELDS = 'ankiFields';\n\nconst ankiFieldsState = atom<AnkiField[]>({\n  key: `${ANKI_FIELDS}State`,\n  default: [],\n})\n\nexport const ankiFieldsSelector = selector<AnkiField[]>({\n  key: ANKI_FIELDS,\n  get: ({get}) => get(ankiFieldsState),\n  set: ({set}, newValue) => {\n    if (chrome.storage) {\n      const json = JSON.stringify(newValue);      \n      chrome.storage.sync.set({[ANKI_FIELDS]: json}, () => console.log(json))\n    }\n    return set(ankiFieldsState, newValue);\n    \n  }\n})"],"mappings":"AACA,SAASA,IAAT,EAAeC,QAAf,QAA+B,QAA/B;AAEA,OAAO,MAAMC,WAAW,GAAG,YAApB;AAEP,MAAMC,eAAe,GAAGH,IAAI,CAAc;EACxCI,GAAG,EAAG,GAAEF,WAAY,OADoB;EAExCG,OAAO,EAAE;AAF+B,CAAd,CAA5B;AAKA,OAAO,MAAMC,kBAAkB,GAAGL,QAAQ,CAAc;EACtDG,GAAG,EAAEF,WADiD;EAEtDK,GAAG,EAAE;IAAA,IAAC;MAACA;IAAD,CAAD;IAAA,OAAWA,GAAG,CAACJ,eAAD,CAAd;EAAA,CAFiD;EAGtDK,GAAG,EAAE,QAAQC,QAAR,KAAqB;IAAA,IAApB;MAACD;IAAD,CAAoB;;IACxB,IAAIE,MAAM,CAACC,OAAX,EAAoB;MAClB,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAAb;MACAC,MAAM,CAACC,OAAP,CAAeI,IAAf,CAAoBP,GAApB,CAAwB;QAAC,CAACN,WAAD,GAAeU;MAAhB,CAAxB,EAA+C,MAAMI,OAAO,CAACC,GAAR,CAAYL,IAAZ,CAArD;IACD;;IACD,OAAOJ,GAAG,CAACL,eAAD,EAAkBM,QAAlB,CAAV;EAED;AAVqD,CAAd,CAAnC"},"metadata":{},"sourceType":"module"}