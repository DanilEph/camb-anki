{"ast":null,"code":"import _objectSpread from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import Button from'components/UI/Button/Button';import{Label}from'components/UI/Label';import Typography from'components/UI/Typography/Typography';import React,{useState}from'react';import{useRecoilState}from'recoil';import{ankiFieldsSelector}from'store/ankiFields';import{currentTabSelector}from'store/currentTab';import{searchingWordState}from'store/searchingWord';import{theme}from'utils/theme';import Definition from'./Definition/Definition';import{Example}from'./Example';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";;var styles={root:{base:css({padding:'15px',background:theme.palette.secondary.darker,borderRadius:'12px',margin:'10px 0',':last-child':{marginBottom:0}})},header:{base:css({display:'flex',justifyContent:'space-between',alignItems:'center'})},label:{base:css({fontStyle:'normal'})},labelCaption:{base:css({margin:0,textTransform:'uppercase',fontSize:'12px'})}};export var ContextDefinition=/*#__PURE__*/React.createContext(null);var DefinitionBlock=function DefinitionBlock(_ref){var word=_ref.word,children=_ref.children,useCase=_ref.useCase,level=_ref.level;var _useState=useState(),_useState2=_slicedToArray(_useState,2),example=_useState2[0],setExample=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),definition=_useState4[0],setDefinition=_useState4[1];var _useRecoilState=useRecoilState(ankiFieldsSelector),_useRecoilState2=_slicedToArray(_useRecoilState,2),ankiFields=_useRecoilState2[0],setAnkiFields=_useRecoilState2[1];var _useRecoilState3=useRecoilState(searchingWordState),_useRecoilState4=_slicedToArray(_useRecoilState3,1),searchingWord=_useRecoilState4[0];var _useRecoilState5=useRecoilState(currentTabSelector),_useRecoilState6=_slicedToArray(_useRecoilState5,2),currentTab=_useRecoilState6[0],setCurrentTab=_useRecoilState6[1];var defaultContext={example:{set:setExample,get:example},definition:{set:setDefinition,get:definition}};var handleAdd=function handleAdd(){setAnkiFields(ankiFields.map(function(field,i){if(i===0){return _objectSpread(_objectSpread({},field),{},{value:[word]});}else if(i===1){return _objectSpread(_objectSpread({},field),{},{value:definition?[definition]:field.value});}else if(i===2){return _objectSpread(_objectSpread({},field),{},{value:example?[example]:field.value});}else{return field;}}));setCurrentTab('add');};return _jsx(ContextDefinition.Provider,{value:defaultContext,children:_jsxs(\"div\",{css:styles.root.base,children:[_jsxs(\"div\",{css:styles.header.base,children:[_jsx(Typography,{css:styles.labelCaption.base,children:level?_jsx(Label,{label:level,labelCss:styles.label.base,children:useCase}):useCase}),_jsx(\"div\",{children:_jsx(Button,{size:\"small\",onClick:function onClick(){return handleAdd();},children:\"Add +\"})})]}),children]})});};DefinitionBlock.Definition=Definition;DefinitionBlock.Example=Example;export default DefinitionBlock;","map":{"version":3,"names":["css","Button","Label","Typography","React","useState","useRecoilState","ankiFieldsSelector","currentTabSelector","searchingWordState","theme","Definition","Example","styles","root","base","padding","background","palette","secondary","darker","borderRadius","margin","marginBottom","header","display","justifyContent","alignItems","label","fontStyle","labelCaption","textTransform","fontSize","ContextDefinition","createContext","DefinitionBlock","word","children","useCase","level","example","setExample","definition","setDefinition","ankiFields","setAnkiFields","searchingWord","currentTab","setCurrentTab","defaultContext","set","get","handleAdd","map","field","i","value"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/components/WordBlock/DefititionBlock/DefinitionBlock.tsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport Button from 'components/UI/Button/Button';\nimport { Label } from 'components/UI/Label';\nimport Typography from 'components/UI/Typography/Typography';\nimport React, { FC, ReactElement, ReactNode, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport { ankiFieldsSelector } from 'store/ankiFields';\nimport { currentTabSelector } from 'store/currentTab';\nimport { searchingWordState } from 'store/searchingWord';\nimport { theme } from 'utils/theme';\nimport Definition from './Definition/Definition';\nimport { Example } from './Example';\n\ninterface IDefinitionBlockProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'children'>{\n  useCase: string,\n  level: string,\n  children:  ReactElement[],\n  word: string,\n};\n\ninterface IDefinitionBlockComposition {\n  Definition: typeof Definition,\n  Example: typeof Example\n}\n\nconst styles = {\n  root: {\n    base: css({\n      padding: '15px',\n      background: theme.palette.secondary.darker,\n      borderRadius: '12px',\n      margin: '10px 0',\n      ':last-child': {\n        marginBottom: 0,\n      }\n    })\n  },\n  header: {\n    base: css({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n    })\n  },\n  label: {\n    base: css({\n      fontStyle: 'normal',\n    })\n  },\n  labelCaption: {\n    base: css({\n      margin: 0,\n      textTransform: 'uppercase',\n      fontSize: '12px'\n    })\n  }\n}\n\n\nexport interface IContextDefinition {\n  example: {\n    set: (newValue: string | undefined) => any,\n    get: string | undefined,\n  },\n  definition: {\n    set: (newValue: string | undefined) => any,\n    get: string | undefined,\n  }\n}\n\nexport const ContextDefinition = React.createContext<IContextDefinition | null>(null);\n\nconst DefinitionBlock: FC<IDefinitionBlockProps> & IDefinitionBlockComposition = ({ word, children, useCase, level }) => {\n  const [example, setExample] = useState<string>();\n  const [definition, setDefinition] = useState<string>();\n  const [ ankiFields, setAnkiFields ] = useRecoilState(ankiFieldsSelector);\n  const [ searchingWord ] = useRecoilState(searchingWordState);\n  const [ currentTab, setCurrentTab ] = useRecoilState(currentTabSelector);\n\n  const defaultContext: IContextDefinition = {\n    example: {\n      set: setExample,\n      get: example,\n    },\n    definition: {\n      set: setDefinition,\n      get: definition,\n    }\n  }\n\n  const handleAdd = () => {\n\n    setAnkiFields(ankiFields.map((field, i) => {\n      if (i === 0) {\n        return {...field, value: [word]}\n      } else if (i === 1) {\n        return {...field, value: definition ? [definition] : field.value}\n      } else if (i === 2) {\n        return {...field, value: example ? [example] : field.value}\n      } else {\n        return field\n      }\n    }))\n\n    setCurrentTab('add');\n  }\n  \n  return (\n    <ContextDefinition.Provider value={defaultContext}>\n      <div css={styles.root.base}>\n      <div css={styles.header.base}>\n        <Typography css={styles.labelCaption.base}>\n          {level ? <Label label={level} labelCss={styles.label.base}>{useCase}</Label> : useCase}\n        </Typography>\n        <div><Button size='small' onClick={() => handleAdd()}>Add +</Button></div>\n      </div>\n      {children}\n    </div>\n    </ContextDefinition.Provider>\n  )\n};\n\nDefinitionBlock.Definition = Definition;\nDefinitionBlock.Example = Example;\n\nexport default DefinitionBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module"}