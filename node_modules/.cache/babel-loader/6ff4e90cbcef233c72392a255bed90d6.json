{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/components/ContentEditable/ContentEditable.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ContentEditable = _ref => {\n  let {\n    component,\n    onContentChange,\n    onInput = () => {},\n    ...other\n  } = _ref;\n  const Component = component || 'div';\n\n  const handleChange = e => {\n    const imgMaxWidth = e.currentTarget.clientWidth - 30;\n    const nodes = e.currentTarget.childNodes;\n    let parsedNodes = [];\n\n    for (let i = 0; i < nodes.length; i++) {\n      const currentNode = nodes[i];\n      const imgs = [];\n      const texts = [];\n\n      if (currentNode.hasChildNodes()) {\n        currentNode.childNodes.forEach(node => {\n          if (node.nodeName === 'IMG') {\n            // if (node.width > imgMaxWidth) {\n            //   allImgs[i].width = imgMaxWidth;\n            // }df f\n            imgs.push(node);\n          }\n\n          if (node.nodeName === '#text') {}\n        });\n        parsedNodes = [...imgs, ...texts];\n      } // console.log(allImgs[i].width, imgMaxWidth)\n\n    }\n\n    console.log(nodes);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Component, {\n    contentEditable: true,\n    onInput: e => {\n      handleChange(e);\n      onInput(e);\n    },\n    ...other\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ContentEditable;\nexport default ContentEditable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentEditable\");","map":{"version":3,"names":["React","ContentEditable","component","onContentChange","onInput","other","Component","handleChange","e","imgMaxWidth","currentTarget","clientWidth","nodes","childNodes","parsedNodes","i","length","currentNode","imgs","texts","hasChildNodes","forEach","node","nodeName","push","console","log"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/components/ContentEditable/ContentEditable.tsx"],"sourcesContent":["import React, { FC, ReactNode } from 'react';\nimport { Type } from 'typescript';\n\ntype IContentEditableProps<T extends React.ElementType> = {\n  component?: T;\n  onContentChange?: (event: ReactNode[]) => void;\n} & React.ComponentPropsWithoutRef<T>;\n\nconst ContentEditable = <T extends React.ElementType = 'div',>({ component, onContentChange, onInput = () => {}, ...other }: IContentEditableProps<T>) => {\n  const Component = component || 'div';\n\n  const handleChange = (e: React.FormEvent<HTMLDivElement>) => {\n    const imgMaxWidth = e.currentTarget.clientWidth - 30;\n    const nodes = e.currentTarget.childNodes;\n    let parsedNodes = [];\n    for (let i = 0; i < nodes.length; i++) {\n      const currentNode = nodes[i];\n      const imgs: ChildNode[] = [];\n      const texts: ChildNode[] = [];\n      if (currentNode.hasChildNodes()) {\n        currentNode.childNodes.forEach((node) => {\n          if (node.nodeName === 'IMG') {\n            // if (node.width > imgMaxWidth) {\n            //   allImgs[i].width = imgMaxWidth;\n              \n            // }df f\n            imgs.push(node);\n          }\n          if (node.nodeName === '#text') {\n\n          }\n        });\n        parsedNodes = [...imgs, ...texts];\n      }\n\n\n      \n      // console.log(allImgs[i].width, imgMaxWidth)\n    }\n    console.log(nodes);\n  }\n\n  return (\n    <Component\n      contentEditable\n      onInput={(e) => {handleChange(e); onInput(e)}}\n      {...other}\n    />\n  )\n};\n\nexport default ContentEditable;"],"mappings":";AAAA,OAAOA,KAAP,MAAqC,OAArC;;;AAQA,MAAMC,eAAe,GAAG,QAAkI;EAAA,IAA3F;IAAEC,SAAF;IAAaC,eAAb;IAA8BC,OAAO,GAAG,MAAM,CAAE,CAAhD;IAAkD,GAAGC;EAArD,CAA2F;EACxJ,MAAMC,SAAS,GAAGJ,SAAS,IAAI,KAA/B;;EAEA,MAAMK,YAAY,GAAIC,CAAD,IAAwC;IAC3D,MAAMC,WAAW,GAAGD,CAAC,CAACE,aAAF,CAAgBC,WAAhB,GAA8B,EAAlD;IACA,MAAMC,KAAK,GAAGJ,CAAC,CAACE,aAAF,CAAgBG,UAA9B;IACA,IAAIC,WAAW,GAAG,EAAlB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;MACrC,MAAME,WAAW,GAAGL,KAAK,CAACG,CAAD,CAAzB;MACA,MAAMG,IAAiB,GAAG,EAA1B;MACA,MAAMC,KAAkB,GAAG,EAA3B;;MACA,IAAIF,WAAW,CAACG,aAAZ,EAAJ,EAAiC;QAC/BH,WAAW,CAACJ,UAAZ,CAAuBQ,OAAvB,CAAgCC,IAAD,IAAU;UACvC,IAAIA,IAAI,CAACC,QAAL,KAAkB,KAAtB,EAA6B;YAC3B;YACA;YAEA;YACAL,IAAI,CAACM,IAAL,CAAUF,IAAV;UACD;;UACD,IAAIA,IAAI,CAACC,QAAL,KAAkB,OAAtB,EAA+B,CAE9B;QACF,CAXD;QAYAT,WAAW,GAAG,CAAC,GAAGI,IAAJ,EAAU,GAAGC,KAAb,CAAd;MACD,CAlBoC,CAsBrC;;IACD;;IACDM,OAAO,CAACC,GAAR,CAAYd,KAAZ;EACD,CA7BD;;EA+BA,oBACE,QAAC,SAAD;IACE,eAAe,MADjB;IAEE,OAAO,EAAGJ,CAAD,IAAO;MAACD,YAAY,CAACC,CAAD,CAAZ;MAAiBJ,OAAO,CAACI,CAAD,CAAP;IAAW,CAF/C;IAAA,GAGMH;EAHN;IAAA;IAAA;IAAA;EAAA,QADF;AAOD,CAzCD;;KAAMJ,e;AA2CN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}