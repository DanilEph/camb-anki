{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";export var useAxios=function useAxios(request){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var withProcessingRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(args){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setData(undefined);setError(undefined);setLoading(true);_context.next=5;return request(args).then(function(res){setData(res);data=res;}).catch(function(error){setError(error);});case 5:// try {\n//   data = request(...args);\n//   setData(data);\n// } catch (error) {\n//   setError(error as Error);\n// }\nsetLoading(false);return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function withProcessingRequest(_x){return _ref.apply(this,arguments);};}();return[withProcessingRequest,{data:data,loading:loading,error:error}];};","map":{"version":3,"names":["useState","useAxios","request","undefined","data","setData","loading","setLoading","error","setError","withProcessingRequest","args","then","res","catch"],"sources":["/Users/macbookpro/Documents/my-repository/web/cambridge-anki/extention/src/hooks/useAxios.ts"],"sourcesContent":["import { useState } from \"react\";\nimport { FunctionLike, FunctionLikeDeclaration } from \"typescript\";\n\nexport const useAxios = <ArgsT extends {}, ReturnT>(request: (args: ArgsT) => Promise<ReturnT>) => {\n  type requestReturnedType = ReturnType<typeof request>;\n  type requestArgsType = Parameters<typeof request>;\n\n  const [data, setData] = useState<ReturnT | undefined>(undefined);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<Error | undefined>(undefined);\n\n  const withProcessingRequest = async (args: ArgsT) => {\n    let data: ReturnT | undefined;\n    setData(undefined);\n    setError(undefined);\n    setLoading(true);\n    await request(args)\n    .then((res) => {\n      setData(res);\n      data = res;\n    })\n    .catch((error) => {\n      setError(error);\n    })\n    // try {\n    //   data = request(...args);\n    //   setData(data);\n    // } catch (error) {\n    //   setError(error as Error);\n    // }\n    setLoading(false);\n    return data;\n  }\n\n  return (\n    [\n      withProcessingRequest, \n      {data, loading, error}\n    ] as [(args: ArgsT) => Promise<ReturnT>, {data: ReturnT | undefined, loading: boolean, error: Error | undefined}]\n  );\n}\n\n\n\n"],"mappings":"oeAAA,OAASA,QAAT,KAAyB,OAAzB,CAGA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAA4BC,OAA5B,CAA2E,CAIjG,cAAwBF,QAAQ,CAAsBG,SAAtB,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAA8BL,QAAQ,CAAU,KAAV,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA0BP,QAAQ,CAAoBG,SAApB,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,sBAAqB,4FAAG,iBAAOC,IAAP,6HAE5BN,OAAO,CAACF,SAAD,CAAP,CACAM,QAAQ,CAACN,SAAD,CAAR,CACAI,UAAU,CAAC,IAAD,CAAV,CAJ4B,sBAKtBL,QAAO,CAACS,IAAD,CAAP,CACLC,IADK,CACA,SAACC,GAAD,CAAS,CACbR,OAAO,CAACQ,GAAD,CAAP,CACAT,IAAI,CAAGS,GAAP,CACD,CAJK,EAKLC,KALK,CAKC,SAACN,KAAD,CAAW,CAChBC,QAAQ,CAACD,KAAD,CAAR,CACD,CAPK,CALsB,QAa5B;AACA;AACA;AACA;AACA;AACA;AACAD,UAAU,CAAC,KAAD,CAAV,CAnB4B,gCAoBrBH,IApBqB,wDAAH,kBAArBM,sBAAqB,4CAA3B,CAuBA,MACE,CACEA,qBADF,CAEE,CAACN,IAAI,CAAJA,IAAD,CAAOE,OAAO,CAAPA,OAAP,CAAgBE,KAAK,CAALA,KAAhB,CAFF,CADF,CAMD,CArCM"},"metadata":{},"sourceType":"module"}